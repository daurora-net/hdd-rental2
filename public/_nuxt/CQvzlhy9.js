import{_ as x}from"./mro-OFWX.js";import{m as V,r as a,c as i,a as t,n as m,v as p,p as _,t as v,q as f,b,w as k,o as d,d as C,x as N,y as q}from"./BVXmWnUH.js";const B={key:0},E={key:1},A={__name:"login",setup(T){const g=V(),o=a(""),n=a(""),l=a(null),s=a(null),w=async()=>{l.value=null,s.value=null;try{const e=(await N(g,o.value,n.value)).user;e&&e.emailVerified?(s.value="ユーザーはメール認証済みです。",q("/")):s.value="メール認証がまだ完了していません。"}catch(r){l.value="ログインに失敗しました: "+r.message}};return(r,e)=>{const y=x;return d(),i("div",null,[e[6]||(e[6]=t("h1",null,"Login",-1)),t("form",{onSubmit:_(w,["prevent"])},[t("div",null,[e[2]||(e[2]=t("label",{for:"email"},"Email:",-1)),m(t("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=u=>o.value=u),required:""},null,512),[[p,o.value]])]),t("div",null,[e[3]||(e[3]=t("label",{for:"password"},"Password:",-1)),m(t("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=u=>n.value=u),required:""},null,512),[[p,n.value]])]),e[4]||(e[4]=t("button",{type:"submit"},"Login",-1))],32),l.value?(d(),i("p",B,v(l.value),1)):f("",!0),s.value?(d(),i("p",E,v(s.value),1)):f("",!0),b(y,{to:"/register"},{default:k(()=>e[5]||(e[5]=[C("Go to Register")])),_:1})])}}};export{A as default};
